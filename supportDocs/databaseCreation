CREATE TABLE IF NOT EXISTS CivUsers(
	CivUsername VARCHAR(255) PRIMARY KEY,
	Name VARCHAR(255) NOT NULL,
	Number VARCHAR(255),
	InfoPublicallyAvailable TINYINT(1) NOT NULL DEFAULT 0,
	PasswordHash VARCHAR(64) NOT NULL,
	DateOfBirth DATE,
	BloodType VARCHAR(8),
	OrganDonor TINYINT(1)
);

CREATE TABLE IF NOT EXISTS Tag(
	TagID INT AUTO_INCREMENT PRIMARY KEY,
	CivUsername VARCHAR(255) NOT NULL,
	Name VARCHAR(255) NOT NULL,
	
	FOREIGN KEY (CivUsername) REFERENCES CivUsers(CivUsername)
);

CREATE TABLE IF NOT EXISTS CivContact(
	CivContactID INT PRIMARY KEY AUTO_INCREMENT,
	CivUsername VARCHAR(255) NOT NULL,
	RelationToCiv VARCHAR(255),
	Name VARCHAR(255) NOT NULL,
	Number VARCHAR(255),
	
	FOREIGN KEY (CivUsername) REFERENCES CivUsers(CivUsername)
);

CREATE TABLE IF NOT EXISTS Information(
	InformationID INT PRIMARY KEY AUTO_INCREMENT,
	CivUsername VARCHAR(255) NOT NULL,
	InfoName VARCHAR(255) NOT NULL,
	AddInfo VARCHAR(2047),

	FOREIGN KEY (CivUsername) REFERENCES CivUsers(CivUsername)
);

CREATE TABLE IF NOT EXISTS Medication(
	MedicationID INT PRIMARY KEY AUTO_INCREMENT,
	CivUsername VARCHAR(255) NOT NULL,
	DoseFrequency VARCHAR(255) NOT NULL,
	AdditionalNotes VARCHAR (2047), 

	FOREIGN KEY (CivUsername) REFERENCES CivUsers(CivUsername)
);




CREATE TABLE IF NOT EXISTS MedUsers(
	MedUsername VARCHAR(255) PRIMARY KEY,
	PasswordHash VARCHAR(64) NOT NULL,
	Name VARCHAR(255) NOT NULL,
	InstUsername VARCHAR(255) NOT NULL,

	FOREIGN KEY (Institution) REFERENCES Institution(InstUsername)
);

CREATE TABLE IF NOT EXISTS Institution(
	InstUsername VARCHAR(255) PRIMARY KEY, 
	PasswordHash VARCHAR(64) NOT NULL,
	Name VARCHAR(255) NOT NULL,
);